
============================================================================

　　高機能エクストラクタ−　☆　ＰＭｅｘｔ　☆　Ｖｅｒｓｉｏｎ　２．２０

 　　　　　　　　　　ｆｏｒ　３４Ｋ＿ＣＰ／Ｍ（Ｚ８０）

　　　Ｃｏｐｙｒｉｇｈｔ（Ｃ）　ｂｙ　ぺぱあみんと★すたあ（美濃吉彦）

============================================================================



【１】ＰＭｅｘｔ　Ｖ２．２０について

　このプログラムは、ＰＭａｒｃ，ＰＭａｒｃ２，ＬＨａ，ＬＨａｒｃ，ＬＡｒｃに
よって作成された書庫（アーカイブ）から、元のファイルを復元して取り出す、ファ
イル・エクストラクターです。アーカイブ内のファイルを直接実行する機能や、簡単
なページャーを内蔵した、高機能かつ高速なものです。

　このＶ２．２０でサポートしている圧縮方法は以下の通りです。なお、ＬＨａの新
型ヘッダにも対応しています。

　　＊．ＰＭＡ：“−ｐｍ０−”，“−ｐｍ１−”，“−ｐｍ２−”
　　＊．ＬＺＨ：“−ｌｈ０−”，“−ｌｈ１−”，“−ｌｈ４−”，“−ｌｈ５−”
　　＊．ＬＺＳ：“−ｌｚｓ−”，“−ｌｚ４−”，“−ｌｚ５−”



【２】動作環境

　このプログラムは、３４Ｋ以上（ＴＰＡ２９Ｋ以上）のＣＰ／Ｍシステム（バージ
ョン２．２以上）、またはこれと同等の機能をもつＯＳ上で動作します。ただし、Ｃ
ＰＵはＺ８０か、これに準ずるものでなければいけません。



【３】使用方法

　ＰＭｅｘｔの文法は、次のようになっています。

Usage:
 PMEXT <archive> [[dev:]<entryname>[=<filename>]][/A/B/C/I/L/M/N/Pn/Q/W]


　［１］アーカイブ名　<archive>

　　書庫（アーカイブ）のファイル名を指定します。この拡張子を省略した場合は、
　“．ＰＭＡ”→“．ＬＺＨ”→“．ＬＺＳ”→“．ＣＯＭ”の順にファイルを探し
　ます。最初にみつかったファイルが以後の動作の対象となります。

　　アーカイブ名のみ指定すると、そのアーカイブに入っているメンバーのリストを
　表示します。


　［２］デバイス名　[dev:]

　　展開したファイルの出力先を指定します。省略するとカレント・ドライブとなり
　ます。

　　指定できるのは、ドライブ名の他、“ＣＯＮ：”と“ＬＳＴ：”と“ＰＵＮ：”
　の各デバイス名（具体的にはシステムに依存）、そして特殊なデバイス名として
　“ＥＸＥ：”があります。

　　“ＥＸＥ：”は、ファイルをメモリ上に展開し、それを実行するものです。実行
　時のパラメーターは、スペースで区切ってその後に記述すれば、実行されるプログ
　ラムに引き渡されます。なお、実行終了後はＤＯＳに戻ります。ただし、“−ｌｚ
　ｓ−”と“−ｌｚ５−”で圧縮されているファイルは実行できません。


　［３］エントリ名　<entryname>

　　展開したいファイルのエントリ名（アーカイブ内でのファイル名）をここで指定
　します。

　　ワイルド・カード“？”と“＊”が使用できます。“？”は任意の１文字を意味
　し、“＊”は任意長の任意の文字を意味します。この場合は、当てはまる名前を持
　すべてのメンバーが対象となります。“＊．＊”とすると、すべてのメンバーが対
　象となります。

　　”ＥＸＥ：”デバイスを指定した場合は、拡張子は強制的に“．ＣＯＭ”となり、
　いちばん最初にマッチしたメンバーだけが対象となります。


　［４］ファイル名　[=<filename>]

　　これを指定すると、アーカイブに登録されているエントリ名ではなく、指定され
　たファイル名で、展開が行なわれます。

　　ワイルド・カード“？”と“＊”が使用できます。“？”は１文字、“＊”は任
　意長の、それぞれ元のエントリ名の該当部分が指定されたことになります。


　［５］オプション　/L /C /A /B /M /N /Pn /Q /W /I

　　これらのオプションは、エントリ名の後に（ファイル名が指定されている場合は
　その後に）、空白を空けずに続けて記述して下さい。複数のオプションを同時に指
　定することもできます。


　　（１）メンバーのリストの表示　/L

　　　これはオプションというよりもコマンドで、アーカイブ内のエントリ名とマッ
　　チするメンバーのリストを表示します。


　　（２）ＣＲＣチェック　/C

　　　これもコマンドです。アーカイブ内のエントリ名とマッチするメンバーのＣＲ
　　Ｃチェックを行ないます。正しく圧縮できているかどうかのチェックに使用しま
　　す。


　　（３）属性の再現の指定　/A

　　　このオプションを指定すると、圧縮時のファイルの属性が、展開されたファイ
　　ルに再現されます。


　　（４）バイナリ・ファイル指定　/B

　　　出力デバイスが“ＣＯＮ：”と“ＬＳＴ：”と“ＰＵＮ：”の場合は、原則的
　　にテキスト・ファイルですので、ＥＯＦコード（１ＡＨ）以降は出力しません。
　　ＥＯＦコード以降も出力したい場合に、このオプションを指定します。通常は使
　　用することはないでしょう。


　　（５）メモの非表示指定　/M

　　　リスト表示時に、メモが記録されていればそれを表示しますが、このオプショ
　　ンを指定すると、表示しなくなります。


　　（６）１６進カウンタの非表示指定　/N

　　　展開作業時の１６進カウンタの表示を抑制します。


　　（７）ページ表示指定　/Pn

　　　出力デバイスが“ＣＯＮ：”と“ＬＳＴ：”の場合、このオプションを指定す
　　ると、ページごとの表示となります。

　　　“ｎ”は１ページ当たりの行数を２桁以内で指定します。これを省略した場合
　　は、“ＣＯＮ：”の場合は２３行、”ＬＳＴ：”の場合は６０行になります。こ
　　の省略時の行数はＰＭｓｅｔでカスタマイズすることができます。

　　　出力デバイスが”ＣＯＮ：”のときに、止まった表示を進めるのには、以下の
　　キーが使用できます（他にも複数のキーが割り当てられています）。ただし、前
　　に戻っての表示には、限界があります。

　　　リターンキー／Ｎ　・・・　画面をクリアしてから次のページを表示します。
　　　スペースキー　・・・・・　画面をクリアせずに次のページを表示します。
　　　数字キー　・・・・・・・　その行数だけ進めます。０は１０行となります。
　　　ピリオド／Ｂ　・・・・・　画面をクリアして前のページを表示します。
　　　ＥＳＣキー　・・・・・・　そのメンバーの表示を中止します。
　　　ＳＴＯＰキー　・・・・・　プログラムの実行を中止します。

　　　ファイルの中にコントロールが混じっていると、正確な行数がカウントできな
　　くなります。また、“−ｌｚｓ−”と“−ｌｚ５−”のものは、前に戻りすぎる
　　と表示がおかしくなることがあります。


　　（８）作業確認指定　/Q

　　　このオプションを指定すると、各メンバーごとに、作業を行なうかどうかの確
　　認をとります。


　　（９）強制上書き指定　/W

　　　展開するメンバーと同一の名前を持つファイルが既に存在していた場合、通常
　　は上書きするかどうかの確認をとります。このオプションを指定すると、確認を
　　せずに上書きを行ないます。


　　（10）マッチしないメンバーの非表示指定　/I

　　　指定したエントリ名にマッチしないメンバーは、通常はスキップする旨のメッ
　　セージが表示されますが、このオプションを指定すると、メンバー名さえ表示し
　　なくなります。メンバー数の多いアーカイブのときに指定すれば、画面がうるさ
　　くなくなります。



【４】使用例

　以下では、カレント・ドライブがＡ：で、そこに“ＰＭＥＸＴ．ＣＯＭ”と目的と
するファイルの入ったアーカイブ“ＡＬＬ．ＰＭＡ”があるものとして、いくつかの
使用例を示します。


　［１］全メンバーのリストを表示する。

    A>PMEXT ALL


　［２］全メンバーをドライブＢ：に展開する。

    A>PMEXT ALL B:


　［３］ＣＯＭファイルのみをドライブＣ：に展開する。そのとき属性を再現させる。

    A>PMEXT ALL C:*.COM/A


　［４］すべてのＤＯＣファイルの内容をページごとに表示する。ＤＯＣファイル以
　　　　外のメンバー名は表示させない。

    A>PMEXT ALL CON:*.DOC/PI


　［５］“ＬＥＳＳ２．ＣＯＭ”を“ＬＥＳＳ．ＣＯＭ”というファイル名でカレン
　　　　ト・ドライブに展開する。そのとき強制上書きモードとする

    A>PMEXT ALL LESS2.COM=????.*/W


　［６］アーカイブ内の“ＴＥＲＭ．ＣＯＭ”を実行する。そのときパラメーターと
　　　　して“Ｎ８１ＸＮ”を渡す。

    A>PMEXT ALL EXE:TERM N81XN


　［７］全メンバーのＣＲＣチェックを行なう

    A>PMEXT ALL /C



【５】注意事項


　［１］カスタマイズについて

　　画面クリアのコードには、“＜ＥＳＣ＞＊”を使用していますが、これでは画面
　が消えない場合、ＰＭｓｅｔを使用して、適当なコードに変更して下さい。

　　その他、ＰＭｓｅｔでは一部オプションの常指定などができますので、ぜひ御利
　用下さい。


　［２］Ｖ１との互換性について

　　ＰＭｅｘｔのＶ１用に作成されたＰＭｓｅｔはそのまま使用することが出来ます。

　　タイム・スタンプに関する仕様は、Ｖ１と同じです。


　［３］バージョンについて

　　Ｖ２．００　新圧縮方式“−ｐｍ２−”に対応した最初のバージョン。
　　　　　　　　ＬＺＳにも対応、その他若干の機能強化。

　　Ｖ２．１０　“−ｌｈ１−”の解凍をサポート。Ｉオプションを追加。

　　Ｖ２．１１　ＰＭＡ以外のアーカイブで“ＣＯＮ：”へ出力をした時に、画面が
　　　　　　　　乱れるというバグを修正。Ｖ２．１０にパッチを当ててＶ２．１１
　　　　　　　　にする“ＰＭＸ２１１ＰＴ．ＣＯＭ”もあり。

　　Ｖ２．２０　ＬＨａ（ＬＨａｒｃ＿Ｖ２）で作成されたアーカイブの解凍ができ
　　　　　　　　るようになっています。去年の１２月に作ったものですが。(^^)



【６】使用・配布条件

　ＰＭｅｘｔはフリーウェアです。著作権は放棄されておりません。

　当プログラムの使用により、万一事故等が発生したとしても、作者は一切責任を負
いません。御了承下さい。

　万一、バグ等がありましたら、お手数ですが、できるだけ作者まで御連絡下さい。

　当プログラムの配布は、以下の条件のもとに、自由して下さって結構です。

　（１）オリジナルのものをそのまま配布すること。無断改変したプログラムやドキ
　　　　ュメントの配布は固くお断わりします。タイム・スタンプを組み込んだもの
　　　　や、ＰＭｓｅｔでカスタマイズしたものも含みます。

　（２）このドキュメントを必ず添付し、原則として、プログラムと一緒にＰＭａｒ
　　　　ｃ２で圧縮した自己展開ファイルとして配布すること。

　（３）入手元を明記すること。

　（３）無償で配布すること。ただし、送料等の実費の回収は認めます。

　（４）営利目的での利用はお断わりします。

　（５）転載・配布を行なった方は、できるだけバグ情報等のフィードバックをお願
　　　　い致します。また、バージョン・アップが行なわれた場合、できるだけ最新
　　　　のものを再転載・再配布して下さい。

　（６）ＲＢＢＳへ掲載する場合には、作者の許可が必要です。ただし、転送型には
　　　　許可は致しませんので、御了承下さい。



【７】連絡先

　当プログラムに関するお問い合わせ・バグ報告・要望・感想等は、以下のＩＤまで
メール等でどうぞ。

　　　　　　　　　　　　　　　　　サンデーネット　　　　：ｓｕｎ１４６１
　　　　　　　　　　　　　　　　　ＮＩＦＴＹ−Ｓｅｒｖｅ：ＮＣＡ０００５７
　　　　　　　　　　　　　　　　　ＰＣ−ＶＡＮ　　　　　：ＸＶＤ２０２９９

　　　　　　　　　　　　　　　　　　　　　「ぺぱあみんと★すたあ」

<<<  PMext Version 2.20  Copyright(C) 1990 by Yoshihiko Mino  >>>

ｼ（具体的にはシステムに依存）、そして特殊なデバイス名として
　